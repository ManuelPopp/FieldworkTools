# Getting started

For the **DJI Mavic X Pro**, waypoint routes cannot be freely imported.  
For each route, we first need to generate a **template slot** on the controller.

The waypoint routes are stored under cryptic filenames in the following directory on the RC:

`/Internal shared storage/Android/data/dji.go.v5/files/waypoint/`

You can name the routes on the controller, but you can only relate a route to a file by their creation time.  
Thus, once you have created a template route, enter the route name and its cryptic folder name in the missions dictionary in `./config`.

---

## Creating a photo mission

### Prerequisites

A photo mission requires a DSM to follow along. Moreover, you need spatial points to indicate locations where photos shall be taken.  
Thus, first fly a mapping mission to generate a high-quality DSM.

### Running the script

In the terminal, change directory to this repository.  
From there, run the command with the following syntax:

```
python photomission.py --slot i -dsm "/path/to/dsm.tif" --poi_path "/path/to/points.gpkg" -out "/output/directory" -tolat yy.yyyy -tolon xx.xxxx --flightaltitude A
```

where `i` is the index of the mission slot you want to use, `xx.xxxx` is the latuitude of the takeoff location, `yy.yyyy` is the longitiude of the takeoff location, and  `A` is the flight altitude between photo points.  
All spatial data must be in **EPSG:4326**.

---

## Flying the mission

To fly the mission, you need to copy the `.kmz` file generated by the Python script back to the controller and thereby overwrite the template with the same name.  
Switch on both UAV and RC and touch the **waypoint route symbol** (an S-shaped route with some points on it) on the left-hand side of the display when you are in the camera view.  
Instead of creating a new route, select the **small rectangle with lines** on the top left of the waypoint route creation panel.  
Here, select the route by the name you gave the template.